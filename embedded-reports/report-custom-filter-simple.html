<html>
<head>
  <title>Embedded report with a custom filter (simple dropdown) - SeekTable Examples</title>
  <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-form navbar-left">
      <div class="form-group">
        <select id="filter_year" class="form-control">
		  <option value="">(any)</option>
		  <option value="1996">1996</option>
		  <option value="1997">1997</option>
		  <option value="1998">1998</option>
        </select>
      </div>
	  <a href="https://github.com/seektable/examples/blob/gh-pages/embedded-reports/report-custom-filter-simple.html" class="btn btn-default">Show Source code</a>
    </div>
  </div>
</nav>

<iframe id="embedded_report" border="0" frameborder="0" 
    width="800"
    height="600"
    src="https://www.seektable.com/public/report/1b0509d283904b4995f6968bdd4793f7"></iframe>

<script type="text/javascript">
window.embeddedReportOriginalUrl = null;
window.refreshEmbeddedReport = function() {
  var iframe = document.getElementById('embedded_report');
  if (!embeddedReportOriginalUrl)
    embeddedReportOriginalUrl = iframe.getAttribute('src');
  var reportParams = {};
  reportParams['filter_year'] = document.getElementById('filter_year').value;
  iframe.setAttribute('src', embeddedReportOriginalUrl + "?report_parameters="+JSON.stringify(reportParams))
};

document.getElementById('filter_year').onchange = refreshEmbeddedReport;
</script>

</body>
</html>